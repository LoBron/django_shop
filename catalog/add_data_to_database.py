# import sys
from decimal import Decimal
import random

from django.shortcuts import redirect, get_object_or_404

from catalog.forms import AddDataProductForm#, AddDataCategoryForm
#from catalog.parser.parser import ParserVijar

# sys.path.append('D:\\Jango projects\\parser_vijar\\parser_vijar\\parser.py')


# categories = {'nozhki_roliki_opory': 27} #'metiznaya_produktsiya': 4,
# path = 'products_data/'
# data = ParserVijar(categories, path)
# data.add_data()

# form = AddDataCategoryForm
from catalog.models import Product, Category

def form_save(request):
    data = [{'name': 'Ролик пластиковый с площадкой Ferro Fiori  R 10040 d=65, нагрузка 40 кг хром|черный', 'slug': 'rolik_plastikovyy_s_ploshchadkoy_ferro_fiori_r_10040_d_65_nagruzka_40_kg_khrom_chernyy', 'price': 174.9, 'properties': {'Производитель': 'Ferro Fiori', 'Тип подшипника': 'шариковый', 'Сфера применения': 'универсальный', 'Конструкция': 'поворотная', 'Тип крепления': 'с площадкой', 'Тип установки': 'на плоскость', 'Тип роликов': 'мебельный', 'Наличие тормоза у роликов': 'нет', 'Гарантия': '1 год', 'Цвет': 'Чёрный', 'Диаметр, мм': '65', 'Тип товара': 'Ролики', 'Высота, мм': '85', 'Комплектация': 'Нет', 'Материал': 'Пластик', 'Нагрузка, кг': '40'}, 'photos': ['https://viyar.ua/store/Items/photos/ph46048.jpg', 'https://viyar.ua/store/Items/photos/ph46048_2.jpg']}, {'name': 'Опора для стола V, 600х80мм, h=725мм, черный RAL 9005', 'slug': 'opora_dlya_stola_v_600kh80mm_h_725mm_chernyy_ral_9005', 'price': 1710.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '80х40х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112193.jpg', 'https://viyar.ua/store/Items/photos/ph112193_2.jpg', 'https://viyar.ua/store/Items/photos/ph112193_3.jpg', 'https://viyar.ua/store/Items/photos/ph112193_4.jpg']}, {'name': 'Ножка мебельная регулируемая для шкафов купе, h=50мм', 'slug': 'nozhka_mebelnaya_reguliruemaya_dlya_shkafov_kupe_n_50mm', 'price': 56.1, 'properties': {'Производитель': 'Китай', 'Регулировка': '5', 'Тип крепления': 'шуруп', 'Цвет': 'Цинк', 'Тип товара': 'ножки', 'Высота, мм': '50', 'Материал': 'Сталь', 'Нагрузка, кг': '100'}, 'photos': ['https://viyar.ua/store/Items/photos/ph60401.jpg', 'https://viyar.ua/store/Items/photos/ph60401_2.jpg', 'https://viyar.ua/store/Items/photos/ph60401_3.jpg', 'https://viyar.ua/store/Items/photos/ph60401_4.jpg']}, {'name': 'Опора для стола V бар, 400х60мм, h=1100мм, черный RAL 9005', 'slug': 'opora_dlya_stola_v_bar_400kh60mm_h_1100mm_chernyy_ral_9005', 'price': 1490.04, 'properties': {'Производитель': 'Украина', 'Труба, мм': '60х30х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112197.jpg', 'https://viyar.ua/store/Items/photos/ph112197_2.jpg', 'https://viyar.ua/store/Items/photos/ph112197_3.jpg', 'https://viyar.ua/store/Items/photos/ph112197_4.jpg']}, {'name': 'Опора для стола O бар, 400х60мм, h=1100мм, черный RAL 9005', 'slug': 'opora_dlya_stola_o_bar_400kh60mm_h_1100mm_chernyy_ral_9005', 'price': 1490.04, 'properties': {'Производитель': 'Украина', 'Труба, мм': '60х30х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112209.jpg', 'https://viyar.ua/store/Items/photos/ph112209_2.jpg', 'https://viyar.ua/store/Items/photos/ph112209_3.jpg', 'https://viyar.ua/store/Items/photos/ph112209_4.jpg']}, {'name': 'Опора для стола T бар, 400х200мм, h=1100мм, черный RAL 9005', 'slug': 'opora_dlya_stola_t_bar_400kh200mm_h_1100mm_chernyy_ral_9005', 'price': 1770.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '40х40х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112217.jpg', 'https://viyar.ua/store/Items/photos/ph112217_2.jpg', 'https://viyar.ua/store/Items/photos/ph112217_3.jpg', 'https://viyar.ua/store/Items/photos/ph112217_4.jpg']}, {'name': 'Ролик пластиковый с площадкой, Ø 40мм, max 20кг, черный', 'slug': 'rolik_mebelnyy_s_ploshchadkoy_d_40_mm_nagruzka_20_kg', 'price': 6.96, 'properties': {'Производитель': 'Китай', 'Сфера применения': 'универсальный', 'Конструкция': 'поворотная', 'Тип крепления': 'с площадкой', 'Тип установки': 'на плоскость', 'Тип роликов': 'мебельный', 'Наличие тормоза у роликов': 'нет', 'Гарантия': '1 год', 'Цвет': 'Чёрный', 'Диаметр, мм': '40', 'Тип товара': 'Ролики', 'Высота, мм': '55', 'Материал': 'металл+пластик', 'Нагрузка, кг': '20'}, 'photos': ['https://viyar.ua/store/Items/photos/ph52771.jpg', 'https://viyar.ua/store/Items/photos/ph52771_2.jpg', 'https://viyar.ua/store/Items/photos/ph52771_3.jpg', 'https://viyar.ua/store/Items/photos/ph52771_4.jpg']}, {'name': 'Ролик резиновый HTS 334 с площадкой, со стопором, Ø 50мм, max 45кг, белый', 'slug': 'rolik_mebelnyy_rezinovyy_s_ploshchadkoy_d_50mm_s_tormozom_nagruzka_50_kg_turtsiya', 'price': 83.16, 'properties': {'Производитель': 'Турция', 'Тип подшипника': 'двойной', 'Сфера применения': 'универсальный', 'Конструкция': 'поворотная', 'Тип крепления': 'с площадкой', 'Тип установки': 'на плоскость', 'Тип роликов': 'мебельный', 'Наличие тормоза у роликов': 'да', 'Гарантия': '1 год', 'Цвет': 'Белый', 'Диаметр, мм': '50', 'Тип товара': 'Ролики', 'Высота, мм': '74', 'Материал': 'металл+резина', 'Нагрузка, кг': '45'}, 'photos': ['https://viyar.ua/store/Items/photos/ph35770.jpg', 'https://viyar.ua/store/Items/photos/ph35770_2.jpg', 'https://viyar.ua/store/Items/photos/ph35770_3.jpg']}, {'name': 'Столешница кромкованная из ДСП Бетон Чикаго тёмно-серый,10мм, 1380х675мм', 'slug': 'stoleshnitsa_iz_dsp_beton_chikago_tyemno_seryy_10mm_1380_675mm', 'price': 979.02, 'properties': {'Производитель': 'Egger', 'Ширина(W), мм': '675', 'Толщина наполнения, max, мм': '10', 'Цвет': 'Серый', 'Материал изготовления': 'ДСП', 'Длина(L), мм': '1380'}, 'photos': ['https://viyar.ua/store/Items/photos/ph66694.jpg', 'https://viyar.ua/store/Items/photos/ph66694_2.jpg', 'https://viyar.ua/store/Items/photos/ph66694_3.jpg', 'https://viyar.ua/store/Items/photos/ph66694_4.jpg']}, {'name': 'Опора для шкафа (308)  h=60мм d=38мм, м/о 32мм, под шестигран.до 400 кг CAMAR', 'slug': 'opora_dlya_shkafa_308_h_60mm_d_38mm_m_o_32mm_pod_shestigran_do_400_kg_camar', 'price': 54.42, 'properties': {'Производитель': 'Camar', 'Цвет': 'Алюминий', 'Диаметр, мм': '38', 'Тип товара': 'опоры', 'Высота, мм': '60'}, 'photos': ['https://viyar.ua/store/Items/photos/ph79128.jpg', 'https://viyar.ua/store/Items/photos/ph79128_2.jpg', 'https://viyar.ua/store/Items/photos/ph79128_3.jpg', 'https://viyar.ua/store/Items/photos/ph79128_4.jpg']}, {'name': 'Каркас для стола, П- образный,черный RAL 9005, 1380*675мм.', 'slug': 'karkas_dlya_stola_p_obraznyy_chernyy_ral_9005_1380_675mm', 'price': 3240.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '50х25х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'каркас для стола', 'Высота, мм': '710', 'Материал изготовления': 'Металл', 'Комплектация': 'Винты М8 х 45 мм для скрепления каркаса', 'Нагрузка, кг': '100'}, 'photos': ['https://viyar.ua/store/Items/photos/ph66130.jpg', 'https://viyar.ua/store/Items/photos/ph66130_2.jpg', 'https://viyar.ua/store/Items/photos/ph66130_3.jpg', 'https://viyar.ua/store/Items/photos/ph66130_4.jpg']}, {'name': 'Столешница кромкованная из ДСП Белый платиновый, 25мм, 1200х600мм', 'slug': 'stoleshnitsa_iz_dsp_belyy_platinovyy_1200kh600x25mm', 'price': 1067.04, 'properties': {'Производитель': 'Egger', 'Ширина(W), мм': '600', 'Толщина наполнения, max, мм': '25', 'Цвет': 'Белый', 'Материал изготовления': 'ДСП', 'Длина(L), мм': '1200'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112266.jpg']}, {'name': 'Ролик пластиковый со штифтом Ferro Fiori  R 10090 d=37, нагрузка 16 кг хром|черный', 'slug': 'rolik_plastikovyy_s_ploshchadkoy_ferro_fiori_r_10090_d_40_nagruzka_16_kg_khrom_chernyy', 'price': 44.58, 'properties': {'Производитель': 'Ferro Fiori', 'Тип подшипника': 'скольжения', 'Сфера применения': 'универсальный', 'Конструкция': 'поворотная', 'Тип крепления': 'штифт со втулкой', 'Тип установки': 'на ребро', 'Тип роликов': 'мебельный', 'Наличие тормоза у роликов': 'нет', 'Гарантия': '1 год', 'Цвет': 'Чёрный', 'Диаметр, мм': '37', 'Тип товара': 'Ролики', 'Высота, мм': '25', 'Комплектация': 'Нет', 'Материал': 'Пластик', 'Нагрузка, кг': '16'}, 'photos': ['https://viyar.ua/store/Items/photos/ph46054.jpg', 'https://viyar.ua/store/Items/photos/ph46054_2.jpg']}, {'name': 'Опора в торец d=12мм, h=70мм CAMAR', 'slug': 'opora_v_torets_d_12mm_h_70mm_camar', 'price': 88.62, 'properties': {'Производитель': 'Camar', 'Тип установки': 'скрытая в боковой панели', 'Цвет': 'Цинк', 'Диаметр, мм': '12', 'Тип товара': 'опоры', 'Высота, мм': '70', 'Материал': 'цамак', 'Нагрузка, кг': '300'}, 'photos': ['https://viyar.ua/store/Items/photos/ph59695.jpg', 'https://viyar.ua/store/Items/photos/ph59695_2.jpg', 'https://viyar.ua/store/Items/photos/ph59695_3.jpg']}, {'name': 'Опора для шкафа D=28 мм, расстояние между зубцами 32 мм CAMAR', 'slug': 'opora_dlya_shkafa_d_28_mm_rasstoyanie_mezhdu_zubtsami_32_mm_camar', 'price': 27.72, 'properties': {'Производитель': 'Camar', 'Тип установки': 'к боковой панели', 'Цвет': 'Хром', 'Диаметр, мм': '28', 'Тип товара': 'опоры', 'Высота, мм': '34', 'Материал': 'сталь/пластик', 'Нагрузка, кг': '100'}, 'photos': ['https://viyar.ua/store/Items/photos/ph59699.jpg', 'https://viyar.ua/store/Items/photos/ph59699_2.jpg', 'https://viyar.ua/store/Items/photos/ph59699_3.jpg', 'https://viyar.ua/store/Items/photos/ph59699_4.jpg']}, {'name': 'Опора для стола O бар, 400х60мм, h=1100мм, антрацит RAL 7016', 'slug': 'opora_dlya_stola_o_bar_400kh60mm_h_1100mm_antratsit_ral_7016', 'price': 1490.04, 'properties': {'Производитель': 'Украина', 'Труба, мм': '60х30х1,5', 'Цвет': 'Антрацит', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112210.jpg', 'https://viyar.ua/store/Items/photos/ph112210_2.jpg', 'https://viyar.ua/store/Items/photos/ph112210_3.jpg', 'https://viyar.ua/store/Items/photos/ph112210_4.jpg']}, {'name': 'Опора для стола VV, 600х300мм, h=725мм, черный RAL 9005', 'slug': 'opora_dlya_stola_vv_600kh300mm_h_725mm_chernyy_ral_9005', 'price': 1270.02, 'properties': {'Производитель': 'Украина', 'Труба, мм': '30х30х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112177.jpg', 'https://viyar.ua/store/Items/photos/ph112177_2.jpg', 'https://viyar.ua/store/Items/photos/ph112177_3.jpg', 'https://viyar.ua/store/Items/photos/ph112177_4.jpg']}, {'name': 'Опора в торец d=12мм, h=44мм CAMAR', 'slug': 'opora_v_torets_d_12mm_h_44mm_camar', 'price': 77.52, 'properties': {'Производитель': 'Camar', 'Тип установки': 'скрытая в боковой панели', 'Цвет': 'Цинк', 'Диаметр, мм': '12', 'Тип товара': 'опоры', 'Высота, мм': '44', 'Материал': 'цамак', 'Нагрузка, кг': '300'}, 'photos': ['https://viyar.ua/store/Items/photos/ph59693.jpg', 'https://viyar.ua/store/Items/photos/ph59693_2.jpg', 'https://viyar.ua/store/Items/photos/ph59693_3.jpg']}, {'name': 'Опора для стола U, 600х80мм, h=725мм, серый RAL 9006', 'slug': 'opora_dlya_stola_u_600kh80mm_h_725mm_seryy_ral_9006', 'price': 1710.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '80х40х1,5', 'Цвет': 'Серый', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112204.jpg', 'https://viyar.ua/store/Items/photos/ph112204_2.jpg', 'https://viyar.ua/store/Items/photos/ph112204_3.jpg', 'https://viyar.ua/store/Items/photos/ph112204_4.jpg']}, {'name': 'Ролик пластиковый с площадкой Ferro Fiori  R 10070 d=40, со стопором, нагрузка 22 кг черный', 'slug': 'rolik_plastikovyy_s_ploshchadkoy_ferro_fiori_r_10070_d_40_so_stoporom_nagruzka_22_kg_chernyy', 'price': 52.14, 'properties': {'Производитель': 'Ferro Fiori', 'Сфера применения': 'универсальный', 'Конструкция': 'поворотная', 'Тип крепления': 'с площадкой', 'Тип установки': 'на плоскость', 'Тип роликов': 'мебельный', 'Наличие тормоза у роликов': 'да', 'Гарантия': '1 год', 'Цвет': 'Чёрный', 'Диаметр, мм': '40', 'Тип товара': 'Ролики', 'Высота, мм': '58', 'Комплектация': 'Нет', 'Материал': 'Пластик', 'Нагрузка, кг': '22'}, 'photos': ['https://viyar.ua/store/Items/photos/ph48491.jpg', 'https://viyar.ua/store/Items/photos/ph48491_2.jpg']}, {'name': 'Ролик пластиковый с площадкой Ferro Fiori R 10050 d = 60, нагрузка 28 кг белый|белый+серый', 'slug': 'rolik_plastikovyy_s_ploshchadkoy_ferro_fiori_r_10050_d_60_nagruzka_28_kg_belyy_belyy_seryy', 'price': 72.96, 'properties': {'Производитель': 'Ferro Fiori', 'Сфера применения': 'универсальный', 'Конструкция': 'поворотная', 'Тип крепления': 'с площадкой', 'Тип установки': 'на плоскость', 'Тип роликов': 'мебельный', 'Наличие тормоза у роликов': 'нет', 'Гарантия': '1 год', 'Цвет': 'Белый', 'Диаметр, мм': '63', 'Тип товара': 'Ролики', 'Высота, мм': '45', 'Комплектация': 'Нет', 'Материал': 'Пластик', 'Нагрузка, кг': '28'}, 'photos': ['https://viyar.ua/store/Items/photos/ph46049.jpg', 'https://viyar.ua/store/Items/photos/ph46049_2.jpg']}, {'name': 'Ножка мебельная Ferro Fiori PL 11000, d=70,  h=80, нагрузка 1000 кг,  прозрачный', 'slug': 'nozhka_mebelnaya_ferro_fiori_pl_11000_d_70_h_80_nagruzka_100_kg_prozrachnyy', 'price': 179.46, 'properties': {'Производитель': 'Ferro Fiori', 'Тип крепления': 'саморез', 'Тип установки': 'на плоскость', 'Цвет': 'Прозрачный', 'Диаметр, мм': '70', 'Тип товара': 'ножки', 'Высота, мм': '80', 'Комплектация': 'Нет', 'Материал': 'Пластик', 'Нагрузка, кг': '1000'}, 'photos': ['https://viyar.ua/store/Items/photos/ph52021.jpg', 'https://viyar.ua/store/Items/photos/ph52021_2.jpg', 'https://viyar.ua/store/Items/photos/ph52021_3.jpg', 'https://viyar.ua/store/Items/photos/ph52021_4.jpg']}, {'name': 'Ножка мебельная Ferro Fiori M 12020 h=100, с площадкой 50х75, нагрузка 200 кг черный', 'slug': 'nozhka_mebelnaya_ferro_fiori_m_12020_h_100_s_ploshchadkoy_50kh75_nagruzka_200_kg_chernyy', 'price': 293.04, 'properties': {'Производитель': 'Ferro Fiori', 'Тип крепления': 'саморез', 'Тип установки': 'на плоскость', 'Цвет': 'Чёрный', 'Диаметр, мм': '50х75', 'Тип товара': 'ножки', 'Высота, мм': '100', 'Материал': 'цамак', 'Нагрузка, кг': '200'}, 'photos': ['https://viyar.ua/store/Items/photos/ph51258.jpg', 'https://viyar.ua/store/Items/photos/ph51258_2.jpg', 'https://viyar.ua/store/Items/photos/ph51258_3.jpg', 'https://viyar.ua/store/Items/photos/ph51258_4.jpg']}, {'name': 'Опора в торец d=12мм, h=52мм CAMAR', 'slug': 'opora_v_torets_d_12mm_h_52mm_camar', 'price': 79.02, 'properties': {'Производитель': 'Camar', 'Тип установки': 'скрытая в боковой панели', 'Цвет': 'Цинк', 'Диаметр, мм': '12', 'Тип товара': 'опоры', 'Высота, мм': '52', 'Материал': 'цамак', 'Нагрузка, кг': '300'}, 'photos': ['https://viyar.ua/store/Items/photos/ph59694.jpg', 'https://viyar.ua/store/Items/photos/ph59694_2.jpg', 'https://viyar.ua/store/Items/photos/ph59694_3.jpg']}, {'name': 'Каркас для стола, А-образный,антрацит RAL 7016, 1380*675мм.', 'slug': 'karkas_dlya_stola_a_obraznyy_antratsit_ral_7016_1380_675mm', 'price': 3240.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '50х25х1,5', 'Цвет': 'Антрацит', 'Тип товара': 'каркас для стола', 'Высота, мм': '710', 'Материал изготовления': 'Металл', 'Комплектация': 'Винты М8 х 45 мм для скрепления каркаса', 'Нагрузка, кг': '100'}, 'photos': ['https://viyar.ua/store/Items/photos/ph66136.jpg', 'https://viyar.ua/store/Items/photos/ph66136_2.jpg', 'https://viyar.ua/store/Items/photos/ph66136_3.jpg', 'https://viyar.ua/store/Items/photos/ph66136_4.jpg']}, {'name': 'Ножка мебельная регулируемая OLS, Ø 50, h=100-125мм, max 250кг, черный матовый', 'slug': 'nozhka_mebelnaya_reguliruemaya_ols_d_50_h_100_chernyy_matovyy', 'price': 72.48, 'properties': {'Производитель': 'Украина', 'Регулировка': '25', 'Тип крепления': 'шуруп', 'Цвет': 'Чёрный', 'Диаметр, мм': '50', 'Тип товара': 'ножки', 'Высота, мм': '100', 'Материал': 'Пластик', 'Нагрузка, кг': '250'}, 'photos': ['https://viyar.ua/store/Items/photos/ph45570.jpg', 'https://viyar.ua/store/Items/photos/ph45570_2.jpg', 'https://viyar.ua/store/Items/photos/ph45570_3.jpg', 'https://viyar.ua/store/Items/photos/ph45570_4.jpg']}, {'name': 'Держатель-клипса цоколя к опоре d=28мм, сталь (для арт.308) CAMAR', 'slug': 'derzhatel_klipsa_tsokolya_k_opore_d_28mm_stal_dlya_art_308_camar', 'price': 10.26, 'properties': {'Производитель': 'Camar', 'Цвет': 'Хром', 'Диаметр, мм': '28', 'Тип товара': 'клипсы', 'Материал': 'Сталь'}, 'photos': ['https://viyar.ua/store/Items/photos/ph66837.jpg', 'https://viyar.ua/store/Items/photos/ph66837_2.jpg', 'https://viyar.ua/store/Items/photos/ph66837_3.jpg', 'https://viyar.ua/store/Items/photos/ph66837_4.jpg']}, {'name': 'Каркас для стола, А-образный,белый RAL 9003, 1380*675мм.', 'slug': 'karkas_dlya_stola_a_obraznyy_belyy_ral_9003_1380_675mm', 'price': 3240.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '50х25х1,5', 'Цвет': 'Белый', 'Тип товара': 'каркас для стола', 'Материал изготовления': 'Металл', 'Комплектация': 'Винты М8 х 45 мм для скрепления каркаса'}, 'photos': ['https://viyar.ua/store/Items/photos/ph66135.jpg', 'https://viyar.ua/store/Items/photos/ph66135_2.jpg', 'https://viyar.ua/store/Items/photos/ph66135_3.jpg', 'https://viyar.ua/store/Items/photos/ph66135_4.jpg']}, {'name': 'Столешница кромкованная из ДСП Диамант серый (Антрацит), 25мм, 1380х675мм', 'slug': 'stoleshnitsa_iz_dsp_diamant_seryy_antratsit_1380kh675x25mm', 'price': 1309.02, 'properties': {'Производитель': 'Egger', 'Ширина(W), мм': '675', 'Толщина наполнения, max, мм': '25', 'Цвет': 'Антрацит', 'Материал изготовления': 'ДСП', 'Длина(L), мм': '1380'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112264.jpg']}, {'name': 'Ролик промышленный резиновый HTS 651 с площадкой, Ø 100мм, max 80кг, серый | черный', 'slug': 'prorezinennyy_rolik_s_ploshchadkoy_dlya_telezhek_h_100_651', 'price': 273.78, 'properties': {'Производитель': 'Турция', 'Тип подшипника': 'двойной', 'Сфера применения': 'для тележек, промышленный', 'Конструкция': 'поворотная', 'Тип крепления': 'с площадкой', 'Тип установки': 'на плоскость', 'Тип роликов': 'промышленный', 'Наличие тормоза у роликов': 'нет', 'Гарантия': '1 год', 'Цвет': 'Серый', 'Диаметр, мм': '100', 'Тип товара': 'Ролики', 'Высота, мм': '133', 'Материал': 'металл+резина', 'Нагрузка, кг': '80'}, 'photos': ['https://viyar.ua/store/Items/photos/ph66453.jpg', 'https://viyar.ua/store/Items/photos/ph66453_2.jpg', 'https://viyar.ua/store/Items/photos/ph66453_3.jpg', 'https://viyar.ua/store/Items/photos/ph66453_4.jpg']}, {'name': 'Опора для шкафа D=28 мм, под прикручивание CAMAR', 'slug': 'opora_dlya_shkafa_d_28_mm_pod_prikruchivanie_camar', 'price': 31.5, 'properties': {'Производитель': 'Camar', 'Тип установки': 'к боковой панели', 'Цвет': 'Хром', 'Диаметр, мм': '28', 'Тип товара': 'опоры', 'Высота, мм': '34', 'Материал': 'сталь/пластик', 'Нагрузка, кг': '100'}, 'photos': ['https://viyar.ua/store/Items/photos/ph59698.jpg', 'https://viyar.ua/store/Items/photos/ph59698_2.jpg', 'https://viyar.ua/store/Items/photos/ph59698_3.jpg', 'https://viyar.ua/store/Items/photos/ph59698_4.jpg']}, {'name': 'Опора для шкафа h=50мм d=38мм, м/о 32мм, под шестигран. CAMAR', 'slug': 'opora_dlya_shkafa_h_50mm_d_38mm_m_o_32mm_pod_shestigran_camar', 'price': 53.7, 'properties': {'Производитель': 'Camar', 'Тип установки': 'на плоскость', 'Цвет': 'Хром', 'Диаметр, мм': '38', 'Тип товара': 'опоры', 'Высота, мм': '50', 'Материал': 'сталь/пластик', 'Нагрузка, кг': '400'}, 'photos': ['https://viyar.ua/store/Items/photos/ph66829.jpg', 'https://viyar.ua/store/Items/photos/ph66829_2.jpg', 'https://viyar.ua/store/Items/photos/ph66829_3.jpg', 'https://viyar.ua/store/Items/photos/ph66829_4.jpg']}, {'name': 'Опора для стола ZVV, 600х50мм, h=725мм, черный RAL 9005', 'slug': 'opora_dlya_stola_zvv_600kh50mm_h_725mm_chernyy_ral_9005', 'price': 1380.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '50х25х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112169.jpg', 'https://viyar.ua/store/Items/photos/ph112169_2.jpg', 'https://viyar.ua/store/Items/photos/ph112169_3.jpg', 'https://viyar.ua/store/Items/photos/ph112169_4.jpg']}, {'name': 'Ролик пластиковый с площадкой Ferro Fiori  R 10010 d=50, нагрузка 35 кг хром|прозрачный', 'slug': 'rolik_plastikovyy_s_ploshchadkoy_ferro_fiori_r_10010_d_50_nagruzka_35_kg_khrom_prozrachnyy', 'price': 115.86, 'properties': {'Производитель': 'Ferro Fiori', 'Тип подшипника': 'скольжения', 'Сфера применения': 'универсальный', 'Конструкция': 'поворотная', 'Тип крепления': 'с площадкой', 'Тип установки': 'на плоскость', 'Тип роликов': 'мебельный', 'Наличие тормоза у роликов': 'нет', 'Гарантия': '1 год', 'Цвет': 'Хром', 'Диаметр, мм': '50', 'Тип товара': 'Ролики', 'Высота, мм': '70', 'Комплектация': 'Нет', 'Материал': 'Пластик', 'Нагрузка, кг': '35'}, 'photos': ['https://viyar.ua/store/Items/photos/ph46042.jpg', 'https://viyar.ua/store/Items/photos/ph46042_2.jpg']}, {'name': 'Опора для стола O, 600х80мм, h=725мм, черный RAL 9005', 'slug': 'opora_dlya_stola_o_600kh80mm_h_725mm_chernyy_ral_9005', 'price': 1710.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '80х40х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112205.jpg', 'https://viyar.ua/store/Items/photos/ph112205_2.jpg', 'https://viyar.ua/store/Items/photos/ph112205_3.jpg', 'https://viyar.ua/store/Items/photos/ph112205_4.jpg']}, {'name': 'Ножка кухонная регулируемая h=100-140мм, max 100кг, пластик, черная', 'slug': 'nozhka_kukhonnaya_reguliruemaya_h_100mm_plastik_chernaya', 'price': 4.5, 'properties': {'Производитель': 'Украина', 'Регулировка': '40', 'Тип крепления': 'шуруп', 'Цвет': 'Чёрный', 'Диаметр, мм': '55', 'Тип товара': 'ножки', 'Высота, мм': '100', 'Материал': 'Пластик', 'Нагрузка, кг': '100'}, 'photos': ['https://viyar.ua/store/Items/photos/ph52768.jpg', 'https://viyar.ua/store/Items/photos/ph52768_2.jpg', 'https://viyar.ua/store/Items/photos/ph52768_3.jpg', 'https://viyar.ua/store/Items/photos/ph52768_4.jpg']}, {'name': 'Опора для стола ZVV бар, 400х50мм, h=1100мм, черный RAL 9005', 'slug': 'opora_dlya_stola_zvv_bar_400kh50mm_h_1100mm_chernyy_ral_9005', 'price': 1710.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '50х25х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112173.jpg', 'https://viyar.ua/store/Items/photos/ph112173_2.jpg', 'https://viyar.ua/store/Items/photos/ph112173_3.jpg', 'https://viyar.ua/store/Items/photos/ph112173_4.jpg']}, {'name': 'Ножка мебельная HAIRPIN Leg 3ROD Big h71см, черная структурная', 'slug': 'nozhka_mebelnaya_hairpin_leg_3rod_big_h71sm_chernaya_strukturnaya', 'price': 500.04, 'properties': {'Производитель': 'HAIRPIN LEGS', 'Тип крепления': 'шуруп', 'Цвет': 'Чёрный', 'Тип товара': 'ножки-шпильки', 'Высота, мм': '710', 'Материал': 'Сталь'}, 'photos': ['https://viyar.ua/store/Items/photos/ph30828.jpg', 'https://viyar.ua/store/Items/photos/ph30828_2.jpg', 'https://viyar.ua/store/Items/photos/ph30828_3.jpg']}, {'name': 'Ролик пластиковый HTS 409 с площадкой, Ø 40мм, max 20кг, серый', 'slug': 'rolik_mebelnyy_s_ploshchadkoy_d_40_mm_nagruzka_20_kg_seryy_turtsiya', 'price': 22.2, 'properties': {'Производитель': 'Турция', 'Сфера применения': 'универсальный', 'Конструкция': 'поворотная', 'Тип крепления': 'с площадкой', 'Тип установки': 'на плоскость', 'Тип роликов': 'мебельный', 'Наличие тормоза у роликов': 'нет', 'Гарантия': '1 год', 'Цвет': 'Серый', 'Диаметр, мм': '40', 'Тип товара': 'Ролики', 'Высота, мм': '53', 'Материал': 'металл+пластик', 'Нагрузка, кг': '20'}, 'photos': ['https://viyar.ua/store/Items/photos/ph35105.jpg', 'https://viyar.ua/store/Items/photos/ph35105_2.jpg', 'https://viyar.ua/store/Items/photos/ph35105_3.jpg', 'https://viyar.ua/store/Items/photos/ph35105_4.jpg']}, {'name': 'Опора для стола X бар, 400х60мм, h=1100мм, черный RAL 9005', 'slug': 'opora_dlya_stola_x_bar_400kh60mm_h_1100mm_chernyy_ral_9005', 'price': 1600.02, 'properties': {'Производитель': 'Украина', 'Труба, мм': '60х30х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112189.jpg', 'https://viyar.ua/store/Items/photos/ph112189_2.jpg', 'https://viyar.ua/store/Items/photos/ph112189_3.jpg', 'https://viyar.ua/store/Items/photos/ph112189_4.jpg']}, {'name': 'Опора для шкафа h=70мм d=38мм, м/о 32мм, под шестигран. CAMAR', 'slug': 'opora_dlya_shkafa_h_70mm_d_38mm_m_o_32mm_pod_shestigran_camar', 'price': 56.04, 'properties': {'Производитель': 'Camar', 'Тип установки': 'на плоскость', 'Цвет': 'Хром', 'Диаметр, мм': '38', 'Тип товара': 'опоры', 'Высота, мм': '70', 'Материал': 'сталь/пластик', 'Нагрузка, кг': '400'}, 'photos': ['https://viyar.ua/store/Items/photos/ph66830.jpg', 'https://viyar.ua/store/Items/photos/ph66830_2.jpg', 'https://viyar.ua/store/Items/photos/ph66830_3.jpg', 'https://viyar.ua/store/Items/photos/ph66830_4.jpg']}, {'name': 'Ножка мебельная G.P.I. di Davanzo TULIPANO, h=90 Ø 120, бук без покрытия', 'slug': 'nozhka_mebelnaya_tulipano_h_90_d_120_buk_bez_pokrytiya', 'price': 578.52, 'properties': {'Производитель': 'G.P.I. di Davanzo s.r.I.', 'Тип крепления': 'шуруп', 'Цвет': 'Без покрытия', 'Диаметр, мм': '120', 'Тип товара': 'ножки', 'Высота, мм': '90', 'Материал': 'Дерево Бук'}, 'photos': ['https://viyar.ua/store/Items/photos/ph34875.jpg', 'https://viyar.ua/store/Items/photos/ph34875_2.jpg']}, {'name': 'Каркас для стола, О-образный, серый RAL 9006, 1200х600мм', 'slug': 'karkas_dlya_stola_o_obraznyy_seryy_ral_9006_1200kh600mm', 'price': 3415.02, 'properties': {'Производитель': 'Украина', 'Труба, мм': '50х25х1,5', 'Цвет': 'Серый', 'Тип товара': 'каркас для стола', 'Комплектация': 'Винты М8 х 45 мм для скрепления каркаса'}, 'photos': ['https://viyar.ua/store/Items/photos/ph94262.jpg', 'https://viyar.ua/store/Items/photos/ph94262_2.jpg', 'https://viyar.ua/store/Items/photos/ph94262_3.jpg', 'https://viyar.ua/store/Items/photos/ph94262_4.jpg']}, {'name': 'Опора для стола VV бар, 400х242мм, h=1100мм, черный RAL 9005', 'slug': 'opora_dlya_stola_vv_bar_400kh242mm_h_1100mm_chernyy_ral_9005', 'price': 1660.02, 'properties': {'Производитель': 'Украина', 'Труба, мм': '40х40х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112181.jpg', 'https://viyar.ua/store/Items/photos/ph112181_2.jpg', 'https://viyar.ua/store/Items/photos/ph112181_3.jpg', 'https://viyar.ua/store/Items/photos/ph112181_4.jpg']}, {'name': 'Каркас для стола, О-образный,белый RAL 9003, 1380*675мм.', 'slug': 'karkas_dlya_stola_o_obraznyy_belyy_ral_9003_1380_675mm', 'price': 3660.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '50х25х1,5', 'Цвет': 'Белый', 'Тип товара': 'каркас для стола', 'Материал изготовления': 'Металл', 'Комплектация': 'Винты М8 х 45 мм для скрепления каркаса'}, 'photos': ['https://viyar.ua/store/Items/photos/ph66139.jpg', 'https://viyar.ua/store/Items/photos/ph66139_2.jpg', 'https://viyar.ua/store/Items/photos/ph66139_3.jpg', 'https://viyar.ua/store/Items/photos/ph66139_4.jpg']}, {'name': 'Опора для стола X, 600х80мм, h=725мм, черный RAL 9005', 'slug': 'opora_dlya_stola_x_600kh80mm_h_725mm_chernyy_ral_9005', 'price': 1710.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '80х40х1,5', 'Цвет': 'Чёрный', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112185.jpg', 'https://viyar.ua/store/Items/photos/ph112185_2.jpg', 'https://viyar.ua/store/Items/photos/ph112185_3.jpg', 'https://viyar.ua/store/Items/photos/ph112185_4.jpg']}, {'name': 'Опора для стола V, 600х80мм, h=725мм, белый RAL 9003', 'slug': 'opora_dlya_stola_v_600kh80mm_h_725mm_belyy_ral_9003', 'price': 1710.0, 'properties': {'Производитель': 'Украина', 'Труба, мм': '80х40х1,5', 'Цвет': 'Белый', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112195.jpg', 'https://viyar.ua/store/Items/photos/ph112195_2.jpg', 'https://viyar.ua/store/Items/photos/ph112195_3.jpg', 'https://viyar.ua/store/Items/photos/ph112195_4.jpg']}, {'name': 'Опора для стола T, 600х300мм, h=725мм, белый RAL 9003', 'slug': 'opora_dlya_stola_t_600kh300mm_h_725mm_belyy_ral_9003', 'price': 1490.04, 'properties': {'Производитель': 'Украина', 'Труба, мм': '30х30х1,5', 'Цвет': 'Белый', 'Тип товара': 'опоры', 'Материал изготовления': 'Металл'}, 'photos': ['https://viyar.ua/store/Items/photos/ph112215.jpg', 'https://viyar.ua/store/Items/photos/ph112215_2.jpg', 'https://viyar.ua/store/Items/photos/ph112215_3.jpg', 'https://viyar.ua/store/Items/photos/ph112215_4.jpg']}]
    k = 1
    for prod in data:
        description = ''
        for prop, value in prod['properties'].items():
            description += f'{prop}: {value}. '

        photos = [None for i in range(4)]
        n = 0
        for photo in prod['photos']:
            photos[n] = f'photos/2022/04/20/{photo.split("/")[-1]}'
            n += 1

        product = Product(
            category=get_object_or_404(Category, id=2),
            name=prod['name'],
            slug=prod['slug'],
            description=description,
            price=Decimal(prod['price']),
            availability=True,
            amount=random.choice([i for i in range(1, 101)]),
            main_photo=photos[0],
            additional_photo_01=photos[1],
            additional_photo_02=photos[2],
            additional_photo_03=photos[3]
        )
        product.save()
        k += 1
    print(f'Добавлено {k} товаров')
    return redirect('cart_detail')


# 'category', 'name', 'slug', 'price', 'availability', 'amount', 'main_photo', 'additional_photo_01', 'additional_photo_02', 'additional_photo_03'
def create(request):
    error = ''
    if request.method == 'POST':
        form = ArticlesForm(request.POST)
        if form.is_valid():
            form.save()
            return redirect('news_home')
        else:
            error = "Форма была неверной"

    form = ArticlesForm()

    data = {
        'form': form,
        'error': error,
    }

    return render(request, 'news/create.html', data)